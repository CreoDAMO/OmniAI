[nix]
channel = "stable-24_05"

[workflows]
runButton = "Run OmniAI Platform"

[[workflows.workflow]]
name = "Run OmniAI Platform"
author = 44613894
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "curl -fsSL https://deb.nodesource.com/setup_20.x | bash -"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "apt-get install -y nodejs"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd frontend && npm install"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pip install -r requirements.txt"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd middleware && cargo build --release"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd .. && cd middleware && ./target/release/omni-ai-middleware &"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python main.py"

[[workflows.workflow]]
name = "Setup Frontend"
author = 44613894
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd frontend && npm install"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd frontend && npm run build"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd frontend && npm run dev"

[[workflows.workflow]]
name = "Build & Deploy"
author = 44613894
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run build"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python3 main.py"

[[workflows.workflow]]
name = "Build All Components"
author = 44613894
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd middleware && cargo build --release"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd frontend && npm install && npm run build"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pip install -r requirements.txt"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"âœ… All components built successfully\""
